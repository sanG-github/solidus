// @stripe/stripe-js@7.3.0 downloaded from https://ga.jspm.io/npm:@stripe/stripe-js@7.3.0/lib/index.mjs

var e="basil";var r=function(e){return e===3?"v3":e};var n="https://js.stripe.com";var t="".concat(n,"/").concat(e,"/stripe.js");var a=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/;var i=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var o="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used";var s=function(e){return a.test(e)||i.test(e)};var c=function(){var e=document.querySelectorAll('script[src^="'.concat(n,'"]'));for(var r=0;r<e.length;r++){var t=e[r];if(s(t.src))return t}return null};var u=function(e){var r=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"";var n=document.createElement("script");n.src="".concat(t).concat(r);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");a.appendChild(n);return n};var l=function(e,r){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.3.0",startTime:r})};var v=null;var d=null;var p=null;var f=function(e){return function(r){e(new Error("Failed to load Stripe.js",{cause:r}))}};var m=function(e,r){return function(){window.Stripe?e(window.Stripe):r(new Error("Stripe.js not available"))}};var w=function(e){if(v!==null)return v;v=new Promise((function(r,n){if(typeof window!=="undefined"&&typeof document!=="undefined"){window.Stripe&&e&&console.warn(o);if(window.Stripe)r(window.Stripe);else try{var t=c();if(t&&e)console.warn(o);else if(t){if(t&&p!==null&&d!==null){var a;t.removeEventListener("load",p);t.removeEventListener("error",d);(a=t.parentNode)===null||a===void 0?void 0:a.removeChild(t);t=u(e)}}else t=u(e);p=m(r,n);d=f(n);t.addEventListener("load",p);t.addEventListener("error",d)}catch(e){n(e);return}}else r(null)}));return v.catch((function(e){v=null;return Promise.reject(e)}))};var h=function(n,t,a){if(n===null)return null;var i=t[0];var o=i.match(/^pk_test/);var s=r(n.version);var c=e;o&&s!==c&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.3.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=n.apply(void 0,t);l(u,a);return u};var j;var S=false;var y=function(){if(j)return j;j=w(null).catch((function(e){j=null;return Promise.reject(e)}));return j};Promise.resolve().then((function(){return y()})).catch((function(e){S||console.warn(e)}));var b=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];S=true;var t=Date.now();return y().then((function(e){return h(e,r,t)}))};export{b as loadStripe};

